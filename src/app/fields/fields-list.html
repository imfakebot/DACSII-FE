<section class="hero">
	<div class="hero-inner">
		<h1>Đặt sân nhanh — tìm sân gần bạn</h1>
		<div class="hero-search">
			<input type="text" placeholder="Tìm tên sân, mô tả..." [(ngModel)]="query" />
			<button (click)="onHeroSearch()">Tìm</button>
		</div>
		<div class="hero-filters">
			<select [(ngModel)]="selectedType">
				<option [ngValue]="null">Tất cả loại sân</option>
				<option *ngFor="let t of types" [value]="t">{{ t }}</option>
			</select>
			<select [(ngModel)]="selectedCity">
				<option [ngValue]="null">Tất cả thành phố</option>
				<option *ngFor="let c of cities" [value]="c">{{ c }}</option>
			</select>
		</div>
	</div>
</section>

<section class="list container">
	<div *ngIf="displayedFields.length === 0" class="empty">Không tìm thấy sân nào.</div>

	<div class="grid">
		<article class="card" *ngFor="let f of displayedFields" (click)="viewDetail(f.id)" tabindex="0" role="button">
			<div class="card-media">
				<img [src]="(f.images && f.images.length>0) ? f.images[0] : '/assets/placeholder-field.jpg'" alt="{{f.name}}" />
			</div>
			<div class="card-body">
				<h3 class="card-title">{{ f.name }}</h3>
				<div class="meta">
					<span class="type">{{ f.type || f.fieldType || 'Loại: ?' }}</span>
					<span class="city">{{ f.city || 'N/A' }}</span>
					<span class="rating" *ngIf="f.avgRating">⭐ {{ f.avgRating | number:'1.1-1' }}</span>
				</div>
				<p class="desc">{{ f.description }}</p>
			</div>
			<div class="card-footer">
				<div class="price">
					{{ f.pricePerHour ? (f.pricePerHour | number) + ' đ/giờ' : 'Liên hệ' }}
				</div>
				<div class="actions">
					<button class="btn" (click)="$event.stopPropagation(); viewDetail(f.id)">Xem chi tiết</button>
					<button class="btn primary" (click)="$event.stopPropagation(); bookNow(f.id)">Đặt ngay</button>
				</div>
			</div>
		</article>
	</div>
</section>
